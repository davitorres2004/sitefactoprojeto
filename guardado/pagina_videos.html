<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Central de Bolsas</title>

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" />
    <!-- Bootstrap Bundle JS (defer para carregar após HTML) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" defer></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

    <!-- Font Awesome 5 CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-dNrK8KjbZ8XjO2Qutv2MPvR+UO8NQw3tDi5l7V/VNbtCWUwOeGxKpD9V2muKqzPytBRPjGwYTtZMYuOZf3s8kA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Seu CSS -->
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <div id="header"></div>
    <div id="barranav"></div>

    <main role="main" class="container-fluid mt-0">
        <div class="row">
            <!-- MENU LATERAL -->
            <aside role="complementary" class="col-md-3 col-lg-2 sidebar p-1 d-flex flex-column  ">
                <div id="menu"></div>
                <hr style="margin: 0.4rem 0;">
                <div id="menu2"></div>
            </aside>





            <!-- CARROSSEL + CONTEÚDO PRINCIPAL -->
            <section class="parte_videos col-md-9 col-lg-10 mt-5 mb-5">
                <!-- SESSÃO DE VÍDEOS -->
                <hr class="my-4" />

                <div class="mb-4">
                    <h2 class="fw-bold">Vídeos</h2>
                    <p class="lead" style="font-family: 'Red Hat Display', sans-serif;">
                        Assista aos vídeos abaixo:
                    </p>
                </div>

                <!-- Cards de vídeos -->
                <div class="row g-4" id="cards-videos">
                    <!-- Os cards de vídeo serão inseridos dinamicamente aqui -->
                </div>

                <hr class="my-4" />
            </section>





            </section>
        </div>
    </main>

    <!-- RODAPÉ DA PÁGINA -->
    <footer role="contentinfo" class="footer text-center py-3" style="background-color: #b30000; color: white; ">
        Todos os direitos reservados.
    </footer>

    <script>
        // Função para carregar partes externas
        function carregarParte(idElemento, caminhoArquivo) {
            fetch(caminhoArquivo)
                .then(response => {
                    if (!response.ok) throw new Error(`Erro ao carregar ${caminhoArquivo}`);
                    return response.text();
                })
                .then(html => document.getElementById(idElemento).innerHTML = html)
                .catch(err => console.error(err));
        }

        // Carregando os arquivos HTML separados
        carregarParte('header', 'partes/header.html');
        carregarParte('barranav', 'partes/barranav.html');
        carregarParte('menu', 'partes/menu-lateral-principal.html');
        carregarParte("menu2", 'partes/menu-lateral-informacoes.html');
        carregarParte('ads', 'partes/carrossel-documentos.html');
        carregarParte('cards-videos', 'partes/cards-videos.html');

        // Pode carregar também aba-avisos se quiser modularizar

        // Controle do modal de vídeo
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('videoModal');
            const videoPlayer = modal.querySelector('#modalVideoPlayer');
            const source = modal.querySelector('#modalVideoSource');
            const title = modal.querySelector('#videoModalLabel');
            const link = modal.querySelector('#modalLink');

            modal.addEventListener('show.bs.modal', event => {
                const btn = event.relatedTarget;
                if (!btn) return;

                const src = btn.getAttribute('data-video-src') || '';
                const poster = btn.getAttribute('data-video-poster') || '';
                const vidTitle = btn.getAttribute('data-video-title') || 'Vídeo Tutorial';
                const href = btn.getAttribute('data-link-href') || '#';

                source.src = src;
                videoPlayer.setAttribute('poster', poster);
                videoPlayer.load();
                title.textContent = vidTitle;
                link.href = href;

                // Tentativa de autoplay
                videoPlayer.play().catch(() => {
                    // Se bloqueado, usuário terá que clicar no play
                    console.warn('Autoplay bloqueado pelo navegador.');
                });
            });

            modal.addEventListener('hidden.bs.modal', () => {
                videoPlayer.pause();
                videoPlayer.currentTime = 0;
                source.src = '';
            });
        });


    </script>


</body>

</html>